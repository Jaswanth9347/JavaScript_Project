<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
</head>
<link rel="stylesheet" href="/CSS-Files/register.css">
<body>
     <header class="head">
        <h1 class="head1">Ecommerce</h1>
        <ul class="head2">
            <li class="nav"><a href="/Html-Files/index.html">Home</a></li>
            <li><a href="/Html-Files/Products.html">Products</a></li>
            <li><a href="/Html-Files/About.html">About</a></li>
            <li><a href="/Html-Files/Contact.html">Contact</a></li>
        </ul>
        <ul class="head3">
            <li class="border1"><a href="/Html-Files/Login.html">ü°ÜLogin</a></li>
            <li class="border2"><a href="/Html-Files/Register.html" >üë§Register</a></li>
            <li class="border3"><a href="/Html-Files/Cart.html" >üõíCart (<span id="cart-count">0</span>)</a></li>
        </ul>
    </header>



    <div class="login">
        <h1 class="heading">Register</h1>
        <hr class="hr">
        <form class="from">
            <div class="form-group">
                <label for="Fullname">Full Name</label>
                <input type="text" class="form-control" placeholder="Enter Your Name">
            </div>
            <div class="form-group">
                <label for="mail">Email address</label>
                <input type="email" class="form-control" placeholder="name@example.com">
            </div>
            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" placeholder=" Password" class="form-control">
            </div>
           <div class="form-group">
               <p><span>Already has an account?</span> <a href="/Html-Files/Login.html">Login</a></p>
            </div>
            <div class="form-group">
                <input type="submit" value="Register" class="login-btn">
            </div>

        </form>
    </div>
    <footer>
        <p class="footer">Made with ‚ù§Ô∏è by <a href="">AchieversIT</a></p>
    </footer>


    <script>

  let productContainer = document.getElementById("product-container");

   //  Function to update the cart count in the navbar
  function updateCartCount() {
    const cart = JSON.parse(localStorage.getItem("cart")) || [];
    const count = cart.reduce((total, item) => total + item.quantity, 0);
    const cartCountElement = document.getElementById("cart-count");
    if (cartCountElement) {
      cartCountElement.textContent = count;
    }
  }

  async function getData() {
    const res = await fetch('https://fakestoreapi.com/products');
    const data = await res.json();

    data.forEach((ele) => {
      let itemContainer = document.createElement("div");
      itemContainer.classList.add("product-item");
      itemContainer.setAttribute("data-category", ele.category);

      let createImgEle = document.createElement("img");
      createImgEle.setAttribute("src", ele.image);
      createImgEle.setAttribute("class", "myImages");

      let createTitleEle = document.createElement("h3");
      createTitleEle.textContent = ele.title.substring(0, 10) + "...";

      let createDescEle = document.createElement("p");
      createDescEle.textContent = ele.description.substring(0, 95) + "...";

      let createPriceEle = document.createElement("span");
      createPriceEle.textContent = "$" + ele.price;
      createPriceEle.classList.add("price");

      // Buttons
      let buttonContainer = document.createElement("div");
      buttonContainer.classList.add("button-container");

      let detailsBtn = document.createElement("button");
      detailsBtn.textContent = "Details";
      detailsBtn.classList.add("details-btn");

      let cartBtn = document.createElement("button");
      cartBtn.textContent = "Add to Cart";
      cartBtn.classList.add("cart-btn");

      // Add to Cart functionality
      cartBtn.addEventListener("click", () => {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];

        const existing = cart.find(item => item.id === ele.id);
        if (!existing) {
          cart.push({
            id: ele.id,
            title: ele.title,
            price: ele.price,
            image: ele.image,
            quantity: 1
          });
        } else {
          existing.quantity += 1;
        }

        localStorage.setItem("cart", JSON.stringify(cart));
        updateCartCount();
        alert("Product added to cart!");
      });

      buttonContainer.appendChild(detailsBtn);
      buttonContainer.appendChild(cartBtn);

      // Append all elements
      itemContainer.appendChild(createImgEle);
      itemContainer.appendChild(createTitleEle);
      itemContainer.appendChild(createDescEle);
      itemContainer.appendChild(createPriceEle);
      itemContainer.appendChild(buttonContainer);

      productContainer.appendChild(itemContainer);
    });
  }

  getData();
  updateCartCount();

  // Filter functionality
  document.querySelectorAll(".buttons").forEach(button => {
    button.addEventListener("click", () => {
      const filter = button.getAttribute("data-filter");
      const allProducts = document.querySelectorAll(".product-item");

      allProducts.forEach(product => {
        const category = product.getAttribute("data-category");

        if (filter === "all" || category === filter) {
          product.style.display = "block";
        } else {
          product.style.display = "none";
        }
      });
    });
  });
</script>
</body>
</html>